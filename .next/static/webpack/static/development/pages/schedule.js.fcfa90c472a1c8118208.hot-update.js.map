{"version":3,"file":"static/webpack/static/development/pages/schedule.js.fcfa90c472a1c8118208.hot-update.js","sources":["webpack:///./components/Appointment.js","webpack:///./components/DeleteAppointment.js"],"sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport Link from 'next/link'\nimport RemoveFromCart from './RemoveFromCart'\nimport DeleteAppointment from './DeleteAppointment'\n\nconst AppointmentBox = styled.div`\n  border: none;\n  border-radius: 10px;\n  height: auto;\n  width: 150px;\n  font-size: 12px;\n  padding: 6px 0 0 0;\n  cursor: pointer;\n  &:hover {\n    background: rgba(100, 100, 230, 0.2);\n  }\n  p {\n    display: block;\n    margin: 0;\n    font-size: 12px;\n    line-height: 10px;\n    padding-bottom: 12px;\n  }\n`\n\nconst Appointment = ({ appointment }) => {\n  if (!appointment)\n    return (\n      <AppointmentBox>\n        <p>This client has been deleted</p>\n        <RemoveFromCart id={cartItem.id} />\n      </AppointmentBox>\n    )\n  return (\n    <AppointmentBox>\n      {/* <Link\n        href={{\n          pathname: '/client',\n          query: { id: appointment.id },\n        }}\n      /> */}\n      <p>\n        {appointment.client.firstName} {appointment.client.lastName}\n      </p>\n      <p>{appointment.time}</p>\n      {/* <DeleteAppointment id={appointment.id} /> */}\n    </AppointmentBox>\n  )\n}\n\nAppointment.propTypes = {\n  appointment: PropTypes.object.isRequired,\n}\n\nexport default Appointment\n","import React from 'react'\nimport { Mutation } from 'react-apollo'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport gql from 'graphql-tag'\n// import { ALL_CARTITEMS_QUERY } from './Slider'\n\nconst DELETE_APPOINTMENT_MUTATION = gql`\n  mutation DeleteAppointment($id: ID!) {\n    DeleteAppointment(id: $id) {\n      id\n    }\n  }\n`\n\nconst BigButton = styled.button`\n  font-size: 1rem;\n  background: none;\n  border: 0;\n  &:hover {\n    color: ${props => props.theme.red};\n    cursor: pointer;\n  }\n`\n\nclass DeleteAppointment extends React.Component {\n  static propTypes = {\n    id: PropTypes.string.isRequired,\n  }\n  // This gets called as soon as we get a response back from the server after a mutation has been performed\n  update = (cache, payload) => {\n    // 1. first read the cache\n    const data = cache.readQuery({ query: ALL_CARTITEMS_QUERY })\n    // 2. remove that item from the cart\n    const cartItemId = payload.data.deleteAppointment.id\n    data.cartItems = data.cartItems.filter(\n      cartItem => cartItem.id !== cartItemId,\n    )\n    // 3. write it back to the cache\n    cache.writeQuery({ query: ALL_CARTITEMS_QUERY, data })\n  }\n  render() {\n    return (\n      <Mutation\n        mutation={REMOVE_FROM_CART_MUTATION}\n        variables={{ id: this.props.id }}\n        update={this.update}\n        optimisticResponse={{\n          __typename: 'Mutation',\n          deleteAppointment: {\n            __typename: 'CartItem',\n            id: this.props.id,\n          },\n        }}\n      >\n        {(deleteAppointment, { loading, error }) => (\n          <BigButton\n            disabled={loading}\n            onClick={() => {\n              DeleteAppointment().catch(err => alert(err.message))\n            }}\n            title=\"Delete Item\"\n          >\n            &times;\n          </BigButton>\n        )}\n      </Mutation>\n    )\n  }\n}\n\nexport default DeleteAppointment\nexport { DELETE_APPOINTMENT_MUTATION }\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAmBA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AADA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AAEA;AAQA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AAIA;;;;;;;;;;;;;;;;;;AAKA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAaA;;;;AA3CA;AACA;AADA;AAEA;AACA;AAFA;AACA;AA4CA;;;;;A","sourceRoot":""}