{"version":3,"file":"static/webpack/static/development/pages/reset.js.e6b9cb6df7a39a998580.hot-update.js","sources":["webpack:///./components/Reset.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { Mutation } from 'react-apollo'\nimport gql from 'graphql-tag'\nimport Form from './styles/Form'\nimport Error from './ErrorMessage'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { CURRENT_USER_QUERY } from './User'\nimport SickButton from './styles/SickButton'\n\nconst RESET_MUTATION = gql`\n  mutation RESET_MUTATION(\n    $resetToken: String!\n    $password: String!\n    $confirmPassword: String!\n  ) {\n    resetPassword(\n      resetToken: $resetToken\n      password: $password\n      confirmPassword: $confirmPassword\n    ) {\n      id\n      email\n      name\n    }\n  }\n`\n\nconst Inner = styled.div`\n  text-align: left;\n  max-width: ${props => props.theme.innerWidth};\n  margin: 0 auto;\n  padding: 2rem;\n  padding-top: 0;\n  .dates {\n    font-family: montserrat, sans-serif;\n    text-transform: uppercase;\n    opacity: 0.5;\n    &:focus {\n      opacity: 1;\n    }\n    &:active {\n      opacity: 1;\n    }\n  }\n`\n\nclass Reset extends Component {\n  static propTypes = {\n    resetToken: PropTypes.string.isRequired,\n  }\n  state = {\n    password: '',\n    confirmPassword: '',\n  }\n  saveToState = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  render() {\n    return (\n      <Inner>\n        <Mutation\n          mutation={RESET_MUTATION}\n          variables={{\n            resetToken: this.props.resetToken,\n            password: this.state.password,\n            confirmPassword: this.state.confirmPassword,\n          }}\n          refetchQueries={[{ query: CURRENT_USER_QUERY }]}\n        >\n          {(reset, { error, loading, called }) => (\n            <Form\n              style={{ margin: '50px auto' }}\n              method=\"post\"\n              onSubmit={async e => {\n                e.preventDefault()\n                await reset()\n                this.setState({ password: '', confirmPassword: '' })\n              }}\n            >\n              <fieldset disabled={loading} aria-busy={loading}>\n                <h2>Reset Your Password</h2>\n                <Error error={error} />\n                <label htmlFor=\"password\">\n                  Password\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={this.state.password}\n                    onChange={this.saveToState}\n                  />\n                </label>\n\n                <label htmlFor=\"confirmPassword\">\n                  Confirm Your Password\n                  <input\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    placeholder=\"Confirm Password\"\n                    value={this.state.confirmPassword}\n                    onChange={this.saveToState}\n                  />\n                </label>\n\n                <SickButton type=\"submit\">Reset Your Password</SickButton>\n              </fieldset>\n            </Form>\n          )}\n        </Mutation>\n      </Inner>\n    )\n  }\n}\n\nexport default Reset\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAkBA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAgBA;;;;;;;;;;;;;;;;;;AAIA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnCA;AA0CA;;;;AAjEA;AACA;AADA;AAEA;AADA;AACA;AAkEA;;;;A","sourceRoot":""}