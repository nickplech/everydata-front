{"version":3,"file":"static/webpack/static/development/pages/clients.js.716569d2ac4209d87797.hot-update.js","sources":["webpack:///./components/DeleteClient.js"],"sourcesContent":["import React from 'react'\nimport { Mutation } from 'react-apollo'\nimport gql from 'graphql-tag'\nimport { ALL_CLIENTS_QUERY } from './Clients'\n\nconst DELETE_CLIENT_MUTATION = gql`\n  mutation DELETE_CLIENT_MUTATION($id: ID!) {\n    deleteClient(id: $id) {\n      id\n      firstName\n    }\n  }\n`\n\nconst DeleteClient = props => {\n  const firstName = props.firstName\n  const lastName = props.lastName\n  return (\n    <Mutation\n      mutation={DELETE_CLIENT_MUTATION}\n      variables={{\n        id: props.id,\n        firstName: firstName,\n      }}\n      refetchQueries={[\n        { query: ALL_CLIENTS_QUERY, variables: { user: props.user.id } },\n        { query: PAGINATION_QUERY, variables: { user: props.user.id } },\n      ]}\n    >\n      {(deleteClient, { error }) => (\n        <button\n          onClick={() => {\n            if (\n              confirm(\n                `Are you sure you want to delete ${firstName} ${lastName}`,\n              )\n            ) {\n              deleteClient().catch(err => {\n                alert(err.message)\n              })\n            }\n          }}\n        >\n          {props.children}\n        </button>\n      )}\n    </Mutation>\n  )\n}\n\nexport default DeleteClient\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAmBA;AACA;AACA;;;;A","sourceRoot":""}